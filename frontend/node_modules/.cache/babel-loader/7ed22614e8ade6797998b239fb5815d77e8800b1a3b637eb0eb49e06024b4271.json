{"ast":null,"code":"import React,{useState,useEffect}from'react';import{fetchClients}from'../../api';import{useAuth}from'../../AuthContextSimple';import'./ClientWidget.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ClientWidget=_ref=>{let{expanded=false}=_ref;const[clientData,setClientData]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[selectedClient,setSelectedClient]=useState(null);const{advisorData}=useAuth();useEffect(()=>{loadClientData();},[advisorData]);const loadClientData=async()=>{try{setLoading(true);setError(null);const response=await fetchClients();setClientData(response);}catch(err){console.error('Failed to fetch client data:',err);setError(err.message);// Fallback data\nsetClientData({clients:[{name:\"Alice Smith\",location:\"New York\",portfolio_value:800000,net_worth:5000000,risk_tolerance:\"Conservative\",last_contact:\"2024-08-05\",client_tier:\"Platinum\"},{name:\"Carol White\",location:\"San Francisco\",portfolio_value:900000,net_worth:8000000,risk_tolerance:\"Moderate\",last_contact:\"2024-08-04\",client_tier:\"Platinum\"},{name:\"Bob Jones\",location:\"Boston\",portfolio_value:600000,net_worth:2500000,risk_tolerance:\"Aggressive\",last_contact:\"2024-08-06\",client_tier:\"Gold\"}],total_clients:3});}finally{setLoading(false);}};const formatCurrency=amount=>{return new Intl.NumberFormat('en-US',{style:'currency',currency:'USD',minimumFractionDigits:0,maximumFractionDigits:0}).format(amount);};const formatNetWorth=amount=>{if(amount>=1000000){return`$${(amount/1000000).toFixed(1)}M`;}else if(amount>=1000){return`$${(amount/1000).toFixed(0)}K`;}else{return formatCurrency(amount);}};const getRiskColor=riskLevel=>{switch(riskLevel===null||riskLevel===void 0?void 0:riskLevel.toLowerCase()){case'conservative':return'#10b981';// green\ncase'moderate':return'#f59e0b';// yellow\ncase'aggressive':return'#ef4444';// red\ndefault:return'#6b7280';// gray\n}};const getContactStatus=lastContact=>{if(!lastContact)return'unknown';const contactDate=new Date(lastContact);const today=new Date();const diffDays=Math.floor((today-contactDate)/(1000*60*60*24));if(diffDays<=1)return'recent';if(diffDays<=7)return'week';return'overdue';};const topClients=(clientData===null||clientData===void 0?void 0:clientData.clients)||[];const displayClients=expanded?topClients:topClients.slice(0,4);if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:`client-widget ${expanded?'expanded':''}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"widget-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Client Management\"}),/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-small\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"widget-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading-state\",children:\"Loading client data...\"})})]});}if(error&&!clientData){return/*#__PURE__*/_jsxs(\"div\",{className:`client-widget ${expanded?'expanded':''}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"widget-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Client Management\"}),/*#__PURE__*/_jsx(\"button\",{onClick:loadClientData,className:\"refresh-btn\",title:\"Retry\",children:/*#__PURE__*/_jsxs(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"polyline\",{points:\"23 4 23 10 17 10\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"1 20 1 14 7 14\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"widget-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"error-state\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Failed to load client data\"}),/*#__PURE__*/_jsx(\"small\",{children:error})]})})]});}return/*#__PURE__*/_jsxs(\"div\",{className:`client-widget ${expanded?'expanded':''}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"widget-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Client Management\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"client-count\",children:[(clientData===null||clientData===void 0?void 0:clientData.total_clients)||0,\" client\",((clientData===null||clientData===void 0?void 0:clientData.total_clients)||0)!==1?'s':'']})]}),/*#__PURE__*/_jsx(\"button\",{onClick:loadClientData,className:\"refresh-btn\",title:\"Refresh\",children:/*#__PURE__*/_jsxs(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"polyline\",{points:\"23 4 23 10 17 10\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"1 20 1 14 7 14\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"widget-content\",children:[!(clientData!==null&&clientData!==void 0&&clientData.clients)||clientData.clients.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsxs(\"svg\",{width:\"48\",height:\"48\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"7\",r:\"4\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"No clients found for this advisor\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"client-list\",children:displayClients.map((client,index)=>{var _client$client_tier,_client$client_tier2;const contactStatus=getContactStatus(client.last_contact);return/*#__PURE__*/_jsxs(\"div\",{className:`client-item ${selectedClient===index?'selected':''}`,onClick:()=>setSelectedClient(selectedClient===index?null:index),children:[/*#__PURE__*/_jsx(\"div\",{className:\"client-avatar\",children:/*#__PURE__*/_jsx(\"div\",{className:`tier-badge ${((_client$client_tier=client.client_tier)===null||_client$client_tier===void 0?void 0:_client$client_tier.toLowerCase())||'silver'}`,children:((_client$client_tier2=client.client_tier)===null||_client$client_tier2===void 0?void 0:_client$client_tier2.charAt(0))||'S'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"client-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"client-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"client-name-location\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"client-name\",children:client.name}),client.location&&/*#__PURE__*/_jsx(\"span\",{className:\"client-location\",children:client.location})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"client-badges\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"risk-badge\",style:{backgroundColor:getRiskColor(client.risk_tolerance)},children:client.risk_tolerance}),/*#__PURE__*/_jsxs(\"span\",{className:`contact-status ${contactStatus}`,children:[contactStatus==='recent'&&'ðŸŸ¢',contactStatus==='week'&&'ðŸŸ¡',contactStatus==='overdue'&&'ðŸ”´',!client.last_contact&&'âšª']})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"client-details\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"client-financial\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"portfolio-value\",children:[\"Portfolio: \",formatCurrency(client.portfolio_value||0)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"net-worth\",children:[\"Net Worth: \",formatNetWorth(client.net_worth||0)]})]})}),expanded&&/*#__PURE__*/_jsx(\"div\",{className:\"client-meta\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"client-additional-info\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"investment-objective\",children:[\"Objective: \",client.investment_objective||'Not specified']}),client.last_contact&&/*#__PURE__*/_jsxs(\"span\",{className:\"last-contact\",children:[\"Last contact: \",new Date(client.last_contact).toLocaleDateString()]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"client-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn\",title:\"Call Client\",children:/*#__PURE__*/_jsx(\"svg\",{width:\"14\",height:\"14\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\"})})}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn\",title:\"Send Message\",children:/*#__PURE__*/_jsxs(\"svg\",{width:\"14\",height:\"14\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"22,6 12,13 2,6\"})]})})]})]},client.client_id||client.name);})}),!expanded&&topClients.length>4&&/*#__PURE__*/_jsx(\"div\",{className:\"widget-footer\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"view-all-btn\",children:[\"View all \",topClients.length,\" clients\"]})}),expanded&&(clientData===null||clientData===void 0?void 0:clientData.summary)&&/*#__PURE__*/_jsxs(\"div\",{className:\"summary-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Portfolio Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Total AUM:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:formatCurrency(clientData.summary.total_portfolio_value||0)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Avg Portfolio:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:formatCurrency(clientData.summary.avg_portfolio_value||0)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"High Value Clients:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:clientData.summary.high_value_clients||0})]})]})]})]})]});};export default ClientWidget;","map":{"version":3,"names":["React","useState","useEffect","fetchClients","useAuth","jsx","_jsx","jsxs","_jsxs","ClientWidget","_ref","expanded","clientData","setClientData","loading","setLoading","error","setError","selectedClient","setSelectedClient","advisorData","loadClientData","response","err","console","message","clients","name","location","portfolio_value","net_worth","risk_tolerance","last_contact","client_tier","total_clients","formatCurrency","amount","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","formatNetWorth","toFixed","getRiskColor","riskLevel","toLowerCase","getContactStatus","lastContact","contactDate","Date","today","diffDays","Math","floor","topClients","displayClients","slice","className","children","onClick","title","width","height","viewBox","fill","stroke","strokeWidth","points","d","length","cx","cy","r","map","client","index","_client$client_tier","_client$client_tier2","contactStatus","charAt","backgroundColor","investment_objective","toLocaleDateString","client_id","summary","total_portfolio_value","avg_portfolio_value","high_value_clients"],"sources":["/home/prakashb/Prakash/project_hackathon/frontend/src/components/widgets/ClientWidget.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { fetchClients } from '../../api';\nimport { useAuth } from '../../AuthContextSimple';\nimport './ClientWidget.css';\n\nconst ClientWidget = ({ expanded = false }) => {\n  const [clientData, setClientData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedClient, setSelectedClient] = useState(null);\n  const { advisorData } = useAuth();\n\n  useEffect(() => {\n    loadClientData();\n  }, [advisorData]);\n\n  const loadClientData = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const response = await fetchClients();\n      setClientData(response);\n    } catch (err) {\n      console.error('Failed to fetch client data:', err);\n      setError(err.message);\n      // Fallback data\n      setClientData({\n        clients: [\n          { \n            name: \"Alice Smith\", \n            location: \"New York\",\n            portfolio_value: 800000, \n            net_worth: 5000000,\n            risk_tolerance: \"Conservative\", \n            last_contact: \"2024-08-05\",\n            client_tier: \"Platinum\"\n          },\n          { \n            name: \"Carol White\", \n            location: \"San Francisco\",\n            portfolio_value: 900000, \n            net_worth: 8000000,\n            risk_tolerance: \"Moderate\", \n            last_contact: \"2024-08-04\",\n            client_tier: \"Platinum\"\n          },\n          { \n            name: \"Bob Jones\", \n            location: \"Boston\",\n            portfolio_value: 600000, \n            net_worth: 2500000,\n            risk_tolerance: \"Aggressive\", \n            last_contact: \"2024-08-06\",\n            client_tier: \"Gold\"\n          }\n        ],\n        total_clients: 3\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0,\n    }).format(amount);\n  };\n\n  const formatNetWorth = (amount) => {\n    if (amount >= 1000000) {\n      return `$${(amount / 1000000).toFixed(1)}M`;\n    } else if (amount >= 1000) {\n      return `$${(amount / 1000).toFixed(0)}K`;\n    } else {\n      return formatCurrency(amount);\n    }\n  };\n\n  const getRiskColor = (riskLevel) => {\n    switch (riskLevel?.toLowerCase()) {\n      case 'conservative': return '#10b981'; // green\n      case 'moderate': return '#f59e0b'; // yellow\n      case 'aggressive': return '#ef4444'; // red\n      default: return '#6b7280'; // gray\n    }\n  };\n\n  const getContactStatus = (lastContact) => {\n    if (!lastContact) return 'unknown';\n    const contactDate = new Date(lastContact);\n    const today = new Date();\n    const diffDays = Math.floor((today - contactDate) / (1000 * 60 * 60 * 24));\n    \n    if (diffDays <= 1) return 'recent';\n    if (diffDays <= 7) return 'week';\n    return 'overdue';\n  };\n\n  const topClients = clientData?.clients || [];\n  const displayClients = expanded ? topClients : topClients.slice(0, 4);\n\n  if (loading) {\n    return (\n      <div className={`client-widget ${expanded ? 'expanded' : ''}`}>\n        <div className=\"widget-header\">\n          <h3>Client Management</h3>\n          <div className=\"loading-spinner\">\n            <div className=\"spinner-small\"></div>\n          </div>\n        </div>\n        <div className=\"widget-content\">\n          <div className=\"loading-state\">Loading client data...</div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error && !clientData) {\n    return (\n      <div className={`client-widget ${expanded ? 'expanded' : ''}`}>\n        <div className=\"widget-header\">\n          <h3>Client Management</h3>\n          <button onClick={loadClientData} className=\"refresh-btn\" title=\"Retry\">\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n              <polyline points=\"23 4 23 10 17 10\"></polyline>\n              <polyline points=\"1 20 1 14 7 14\"></polyline>\n              <path d=\"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15\"></path>\n            </svg>\n          </button>\n        </div>\n        <div className=\"widget-content\">\n          <div className=\"error-state\">\n            <p>Failed to load client data</p>\n            <small>{error}</small>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`client-widget ${expanded ? 'expanded' : ''}`}>\n      <div className=\"widget-header\">\n        <div className=\"header-content\">\n          <h3>Client Management</h3>\n          <span className=\"client-count\">\n            {clientData?.total_clients || 0} client{(clientData?.total_clients || 0) !== 1 ? 's' : ''}\n          </span>\n        </div>\n        <button onClick={loadClientData} className=\"refresh-btn\" title=\"Refresh\">\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n            <polyline points=\"23 4 23 10 17 10\"></polyline>\n            <polyline points=\"1 20 1 14 7 14\"></polyline>\n            <path d=\"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15\"></path>\n          </svg>\n        </button>\n      </div>\n      \n      <div className=\"widget-content\">\n        {!clientData?.clients || clientData.clients.length === 0 ? (\n          <div className=\"empty-state\">\n            <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n              <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"></path>\n              <circle cx=\"12\" cy=\"7\" r=\"4\"></circle>\n            </svg>\n            <p>No clients found for this advisor</p>\n          </div>\n        ) : (\n          <div className=\"client-list\">\n            {displayClients.map((client, index) => {\n              const contactStatus = getContactStatus(client.last_contact);\n              \n              return (\n                <div\n                  key={client.client_id || client.name}\n                  className={`client-item ${selectedClient === index ? 'selected' : ''}`}\n                  onClick={() => setSelectedClient(selectedClient === index ? null : index)}\n                >\n                  <div className=\"client-avatar\">\n                    <div className={`tier-badge ${client.client_tier?.toLowerCase() || 'silver'}`}>\n                      {client.client_tier?.charAt(0) || 'S'}\n                    </div>\n                  </div>\n                  \n                  <div className=\"client-info\">\n                    <div className=\"client-header\">\n                      <div className=\"client-name-location\">\n                        <span className=\"client-name\">{client.name}</span>\n                        {client.location && (\n                          <span className=\"client-location\">{client.location}</span>\n                        )}\n                      </div>\n                      <div className=\"client-badges\">\n                        <span \n                          className=\"risk-badge\" \n                          style={{ backgroundColor: getRiskColor(client.risk_tolerance) }}\n                        >\n                          {client.risk_tolerance}\n                        </span>\n                        <span className={`contact-status ${contactStatus}`}>\n                          {contactStatus === 'recent' && 'ðŸŸ¢'}\n                          {contactStatus === 'week' && 'ðŸŸ¡'}\n                          {contactStatus === 'overdue' && 'ðŸ”´'}\n                          {!client.last_contact && 'âšª'}\n                        </span>\n                      </div>\n                    </div>\n                    \n                    <div className=\"client-details\">\n                      <div className=\"client-financial\">\n                        <div className=\"portfolio-value\">\n                          Portfolio: {formatCurrency(client.portfolio_value || 0)}\n                        </div>\n                        <div className=\"net-worth\">\n                          Net Worth: {formatNetWorth(client.net_worth || 0)}\n                        </div>\n                      </div>\n                    </div>\n                    \n                    {expanded && (\n                      <div className=\"client-meta\">\n                        <div className=\"client-additional-info\">\n                          <span className=\"investment-objective\">\n                            Objective: {client.investment_objective || 'Not specified'}\n                          </span>\n                          {client.last_contact && (\n                            <span className=\"last-contact\">\n                              Last contact: {new Date(client.last_contact).toLocaleDateString()}\n                            </span>\n                          )}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                  \n                  <div className=\"client-actions\">\n                    <button className=\"action-btn\" title=\"Call Client\">\n                      <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                        <path d=\"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\"></path>\n                      </svg>\n                    </button>\n                    <button className=\"action-btn\" title=\"Send Message\">\n                      <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                        <path d=\"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z\"></path>\n                        <polyline points=\"22,6 12,13 2,6\"></polyline>\n                      </svg>\n                    </button>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        )}\n        \n        {!expanded && topClients.length > 4 && (\n          <div className=\"widget-footer\">\n            <button className=\"view-all-btn\">\n              View all {topClients.length} clients\n            </button>\n          </div>\n        )}\n\n        {expanded && clientData?.summary && (\n          <div className=\"summary-section\">\n            <h4>Portfolio Summary</h4>\n            <div className=\"summary-stats\">\n              <div className=\"stat-item\">\n                <span className=\"stat-label\">Total AUM:</span>\n                <span className=\"stat-value\">{formatCurrency(clientData.summary.total_portfolio_value || 0)}</span>\n              </div>\n              <div className=\"stat-item\">\n                <span className=\"stat-label\">Avg Portfolio:</span>\n                <span className=\"stat-value\">{formatCurrency(clientData.summary.avg_portfolio_value || 0)}</span>\n              </div>\n              <div className=\"stat-item\">\n                <span className=\"stat-label\">High Value Clients:</span>\n                <span className=\"stat-value\">{clientData.summary.high_value_clients || 0}</span>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ClientWidget;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}